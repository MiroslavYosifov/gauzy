<form [formGroup]="form" (ngSubmit)="persist()">
  <nb-card>
    <nb-card-header>
      <h4 *ngIf="pipeline?.id" [innerHTML]="'PIPELINES_PAGE.HEADER_FORM_EDIT' | translate"></h4>
      <h4 *ngIf="!pipeline?.id" [innerHTML]="'PIPELINES_PAGE.HEADER_FORM_CREATE' | translate"></h4>
    </nb-card-header>
    <nb-card-body>
      <nb-form-field>
        <nb-select [placeholder]="'FORM.PLACEHOLDERS.ORGANIZATION' | translate"
                   formControlName="organizationId"
                   [style.whiteSpace]="'pre'"
        >
          <nb-option [innerHTML]="'FORM.PLACEHOLDERS.ORGANIZATION' | translate" [style.whiteSpace]="'pre'"></nb-option>
          <nb-option *ngFor="let userOrganization of userOrganizations"
                     [innerHTML]="userOrganization.organization.name"
                     [value]="userOrganization.organization.id"
                     [style.whiteSpace]="'pre'"
          ></nb-option>
        </nb-select>
      </nb-form-field>

      <br>
      <nb-form-field>
        <input type="text" nbInput formControlName="name" [placeholder]="'FORM.PLACEHOLDERS.NAME' | translate">
      </nb-form-field>
    </nb-card-body>
    <nb-card-footer>
      <button *ngIf="pipeline?.id" type="submit" nbButton status="info" [disabled]="!form.valid">
        <nb-icon pack="eva" icon="edit-outline"></nb-icon>
        <span [innerHTML]="'BUTTONS.UPDATE' | translate"></span>
      </button>
      <button *ngIf="!pipeline?.id" type="submit" nbButton status="primary" [disabled]="!form.valid">
        <nb-icon pack="eva" icon="plus-circle-outline"></nb-icon>
        <span [innerHTML]="'BUTTONS.CREATE' | translate"></span>
      </button>
    </nb-card-footer>
  </nb-card>
</form>
