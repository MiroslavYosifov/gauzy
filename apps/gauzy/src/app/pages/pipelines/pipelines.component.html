<nb-card>
  <nb-card-header>
    <h4 [innerHTML]="'PIPELINES_PAGE.HEADER' | translate"></h4>
  </nb-card-header>
  <nb-card-body>
    <form [formGroup]="pipelineForm">
      <nb-actions>
        <nb-action>
          <nb-select formControlName="organizationId" (selectedChange)="updatePipelines()" [placeholder]="'PIPELINES_PAGE.SELECT_ORGANIZATION' | translate">
            <nb-option *ngFor="let userOrganization of userOrganizations" [value]="userOrganization.organization.id" [style.whiteSpace]="'pre'">
              {{ userOrganization.organization.name }}
            </nb-option>
          </nb-select>
        </nb-action>
        <nb-action>
          <nb-form-field>
            <input [placeholder]="'PIPELINES_PAGE.FILTER_OR_CREATE' | translate" nbInput
                   (ngModelChange)="filterPipelines()" formControlName="name" type="text">
            <nb-icon *ngIf="!pipelineForm.valid" icon="search-outline" pack="eva" nbSuffix></nb-icon>
          </nb-form-field>
        </nb-action>
        <nb-action *ngIf="pipelineForm.valid">
          <button type="submit" nbButton style="cursor: pointer" (click)="save()">
            <nb-icon [icon]="pipelineForm.value?.id ? 'edit-outline' : 'plus-circle-outline'" pack="eva"></nb-icon>
          </button>
        </nb-action>
      </nb-actions>
    </form>
    <br>

    <ng2-smart-table [settings]="smartTableSettings" [source]="pipelines"></ng2-smart-table>
  </nb-card-body>
</nb-card>
